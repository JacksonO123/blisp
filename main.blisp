(func create-stack (body
	(return
		(struct
			items []
			push (func _ this item (body
				(set this items (append (get this items) item))
			))
			pop (func _ this (body
				(var newItems (get this items))
				(pop newItems)
				(set this items newItems)
			))
			print (func _ this (body
				(print (get this items))
			))
		)
	)
))

(var stack (create-stack))
(. stack push 2)
(. stack print)
(. stack pop)
(. stack print)
